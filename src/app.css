@tailwind base;
@tailwind components;
@tailwind utilities;

/* Cache bust - v2 */

@layer base {
	/* Define CSS variables for themes */
	:root {
		/* Light mode colors */
		--bg-base: #ffffff;
		--bg-gradient: #f9fafb;
		--card: #ffffff;
		--surface: #f3f4f6;
		--accent: rgba(99, 102, 241, 0.1);
		--accent-hover: #6366f1;
		--purple: #8b5cf6;
		--purple-light: #a78bfa;
		--purple-bg: rgba(139, 92, 246, 0.08);
		--purple-hover: #7c3aed;
		--error: #ef4444;
		--error-hover: #dc2626;
		--text-base: #374151;
		--text-hover: #111827;
		--highlight: #111827;
		--muted: #9ca3af;
		--border: #d1d5db;
		--separator: #e5e7eb;

		/* Light mode shadows */
		--shadow-card: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
		--shadow-themed-card: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
		--shadow-dropdown: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
		--shadow-glow: 0 0 20px rgba(139, 92, 246, 0.15);
		--shadow-button: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	}

	.dark {
		/* Dark mode colors - Black theme */
		--bg-base: #000000;
		--bg-gradient: #0a0a0a;
		--card: #0f0f0f;
		--surface: #1a1a1a;
		--accent: rgba(99, 102, 241, 0.15);
		--accent-hover: #6366f1;
		--purple: #8b5cf6;
		--purple-light: #a78bfa;
		--purple-bg: rgba(139, 92, 246, 0.12);
		--purple-hover: #9333ea;
		--error: #ef4444;
		--error-hover: #dc2626;
		--text-base: #e5e5e5;
		--text-hover: #ffffff;
		--highlight: #ffffff;
		--muted: #a3a3a3;
		--border: #262626;
		--separator: #262626;

		/* Dark mode shadows */
		--shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -1px rgba(0, 0, 0, 0.4);
		--shadow-themed-card: 0 8px 16px rgba(0, 0, 0, 0.6), 0 4px 6px rgba(0, 0, 0, 0.5);
		--shadow-dropdown: 0 10px 20px rgba(0, 0, 0, 0.7), 0 6px 8px rgba(0, 0, 0, 0.6);
		--shadow-glow: 0 0 20px rgba(139, 92, 246, 0.2);
		--shadow-button: 0 2px 4px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.08);
	}

	body {
		@apply bg-gradient-to-b from-bg-base to-bg-gradient text-text-base min-h-screen;
		background-attachment: fixed;
		transition:
			background-color 0.3s ease,
			color 0.3s ease;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply text-highlight;
	}
}

@layer components {
	.btn-primary {
		@apply bg-purple hover:bg-purple-hover text-white px-4 py-2 rounded-lg transition-all duration-300 shadow-button;
	}

	.btn-secondary {
		@apply bg-surface hover:bg-accent text-text-hover px-4 py-2 rounded-lg transition-all duration-300 shadow-button;
	}

	.card {
		@apply bg-card rounded-xl shadow-card p-6 border border-border backdrop-blur-sm;
	}

	.card-dark {
		@apply bg-card backdrop-blur-sm border border-border rounded-xl p-6 shadow-themed-card;
		opacity: 0.8;
	}

	.input {
		@apply bg-surface border border-border rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple focus:border-transparent outline-none transition text-text-hover;
	}

	.input::placeholder {
		color: var(--text-hover);
		opacity: 0.7;
	}

	/* Navigation */
	.nav-link {
		@apply px-3 py-2 rounded-lg hover:bg-surface text-text-base hover:text-text-hover transition-colors;
	}

	.nav-link.active {
		@apply bg-purple-bg text-purple font-medium;
	}

	/* Form elements */
	.label {
		@apply block text-sm font-medium text-text-base mb-1;
	}

	.select {
		@apply bg-surface border border-border rounded-lg px-4 py-2 pr-8 appearance-none text-text-hover;
	}

	/* Tables */
	.table-container {
		@apply overflow-x-auto rounded-lg border border-border;
	}

	.table {
		@apply min-w-full divide-y divide-separator;
	}

	.table-header {
		@apply bg-surface;
	}

	.table-header-cell {
		@apply px-6 py-3 text-left text-xs font-medium text-text-hover uppercase tracking-wider;
	}

	.table-body {
		@apply bg-card divide-y divide-separator;
	}

	.table-row {
		@apply hover:bg-surface transition-colors;
	}

	.table-cell {
		@apply px-6 py-4 whitespace-nowrap text-sm text-text-hover;
	}
}

/* Custom gradients */
.bg-gradient-dark {
	background: radial-gradient(
		circle at top left,
		var(--tw-gradient-from) 0%,
		var(--tw-gradient-to) 100%
	);
}

.bg-gradient-card {
	background: linear-gradient(135deg, rgba(15, 15, 15, 0.9) 0%, rgba(0, 0, 0, 0.9) 100%);
	backdrop-filter: blur(10px);
}

.dark .bg-gradient-card {
	background: linear-gradient(135deg, rgba(20, 20, 20, 0.9) 0%, rgba(5, 5, 5, 0.9) 100%);
	backdrop-filter: blur(12px);
}

/* Enhanced purple hover effect */
.nav-button {
	@apply text-text-hover hover:text-highlight font-medium px-3 py-2 rounded-md hover:bg-purple-bg;
	transition:
		background-color 50ms ease-out,
		color 50ms ease-out;
}

/* Black theme enhancements */
.dark .nav-button:hover {
	background-color: rgba(139, 92, 246, 0.15);
	box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
}

/* Enhanced card effects for black theme */
.dark .card {
	border-color: rgba(255, 255, 255, 0.05);
}

.dark .card:hover {
	border-color: rgba(139, 92, 246, 0.3);
	box-shadow: 0 0 20px rgba(139, 92, 246, 0.1);
}

.dark .card-dark {
	background-color: rgba(15, 15, 15, 0.8);
	border-color: rgba(255, 255, 255, 0.08);
}

/* Enhanced input styling for black theme */
.dark .input {
	background-color: rgba(20, 20, 20, 0.8);
	border-color: rgba(255, 255, 255, 0.1);
}

.dark .input:focus {
	background-color: rgba(25, 25, 25, 0.9);
	border-color: var(--purple);
	box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

/* Menu item styles */
.menu-item {
	@apply flex items-center gap-3 px-3 py-2 rounded-md text-text-hover cursor-pointer hover:bg-purple-bg hover:text-highlight;
	transition:
		background-color 50ms ease-out,
		color 50ms ease-out;
}

.menu-item.active {
	@apply bg-purple-bg text-highlight border-l-4 border-purple font-medium;
}

.menu-item.danger {
	@apply hover:bg-error hover:text-white;
}

.menu-item.special {
	@apply text-purple hover:bg-purple-hover hover:text-white;
}

/* Black theme menu enhancements */
.dark .menu-item:hover {
	background-color: rgba(139, 92, 246, 0.12);
}

.dark .menu-item.active {
	background-color: rgba(139, 92, 246, 0.18);
	box-shadow: inset 0 0 20px rgba(139, 92, 246, 0.1);
}

/* Separator */
.separator {
	@apply border-t border-separator;
}

/* AG Grid styling */
.ag-theme-material {
	--ag-background-color: var(--card);
	--ag-header-background-color: var(--surface);
	--ag-odd-row-background-color: var(--surface);
	--ag-row-hover-color: var(--purple-bg);
	--ag-selected-row-background-color: var(--accent);
	--ag-font-family: 'Inter', sans-serif;
	--ag-font-size: 14px;
	--ag-border-color: var(--border);
	--ag-row-border-color: var(--separator);
	--ag-cell-horizontal-border: var(--separator);
	--ag-header-foreground-color: var(--text-hover);
	--ag-foreground-color: var(--text-base);
	--ag-secondary-foreground-color: var(--muted);
	--ag-disabled-foreground-color: var(--muted);
	--ag-input-border-color: var(--border);
	--ag-input-focus-border-color: var(--purple);
	--ag-input-bg-color: var(--surface);
	--ag-input-text-color: var(--text-hover);
	--ag-range-selection-border-color: var(--purple);
	--ag-range-selection-background-color: var(--purple-bg);
}

/* Enhanced AG Grid dark mode styling */
.dark .ag-theme-material {
	--ag-row-hover-color: rgba(139, 92, 246, 0.15);
	--ag-selected-row-background-color: rgba(139, 92, 246, 0.2);
}

/* Button styles */
.btn {
	@apply px-4 py-2 rounded-lg transition-all duration-300 font-medium;
}

.btn-primary {
	@apply bg-purple hover:bg-purple-hover text-white shadow-button;
}

.btn-secondary {
	@apply bg-surface hover:bg-surface text-text-hover shadow-button;
	&:hover {
		opacity: 0.8;
	}
}

.btn-error {
	@apply bg-error hover:bg-error-hover text-white shadow-button;
	&:focus {
		@apply ring-2 ring-error ring-offset-2 ring-offset-bg-base;
	}
}

.btn-sm {
	@apply px-3 py-1.5 text-sm;
}

.btn-lg {
	@apply px-5 py-3 text-lg;
}

.btn-icon {
	@apply p-2 rounded-full;
}

.btn:disabled {
	@apply opacity-50 cursor-not-allowed;
}

/* Custom scrollbar for webkit browsers */
::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}

::-webkit-scrollbar-track {
	@apply bg-surface;
	opacity: 0.5;
	border-radius: 5px;
}

::-webkit-scrollbar-thumb {
	@apply bg-purple;
	opacity: 0.5;
	border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
	@apply bg-purple-hover;
	opacity: 0.8;
}

/* Dark mode scrollbar enhancement */
.dark ::-webkit-scrollbar-track {
	background: #0a0a0a;
}

.dark ::-webkit-scrollbar-thumb {
	background: #333333;
}

.dark ::-webkit-scrollbar-thumb:hover {
	background: #4a4a4a;
}

/* Smooth transitions for theme changes */
* {
	transition-property: background-color, border-color, color, fill, stroke;
	transition-duration: 200ms;
	transition-timing-function: ease-in-out;
}

/* Prevent transition on initial load */
.no-transition * {
	transition: none !important;
}
